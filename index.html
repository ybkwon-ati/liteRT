<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>LiteRT 실시간 전사</title>
    <link rel="stylesheet" href="styles.css?v=3.0.0">
</head>
<body>
    <div class="container">
        <header>
            <h1>🎤 LiteRT 실시간 전사</h1>
            <p class="subtitle">음성을 실시간으로 텍스트로 변환합니다</p>
        </header>

        <main>
                <div class="control-panel">
                <button id="startBtn" class="btn btn-primary">
                    <span class="btn-icon">▶</span>
                    전사 시작
                </button>
                <button id="stopBtn" class="btn btn-secondary" disabled>
                    <span class="btn-icon">⏹</span>
                    전사 중지
                </button>
                <button id="clearBtn" class="btn btn-danger">
                    <span class="btn-icon">🗑</span>
                    기록 지우기
                </button>
            </div>

            <div class="status-bar">
                <span id="status" class="status">대기 중...</span>
                <span id="language" class="language">언어: 한국어</span>
            </div>

            <div class="mic-level-container">
                <div class="mic-level-label">마이크 레벨</div>
                <div class="mic-level-bar">
                    <div id="micLevel" class="mic-level-fill"></div>
                </div>
                <span id="micLevelText" class="mic-level-text">0%</span>
            </div>

            <div class="transcription-area">
                <div class="transcription-header">
                    <h3>전사 결과</h3>
                </div>
                <div id="transcription" class="transcription-text">
                    전사 결과가 여기에 표시됩니다...
                </div>
            </div>

            <div class="history-section">
                <div class="history-header">
                    <h2>📝 전사 기록 관리</h2>
                </div>
                
                <!-- 검색 및 필터 -->
                <div class="history-filters">
                    <div class="search-box">
                        <input type="text" id="historySearch" placeholder="기록 내용 검색..." class="search-input">
                        <button id="historySearchBtn" class="btn-search">🔍 검색</button>
                    </div>
                    <div class="date-filters">
                        <div class="date-filter-item">
                            <label>날짜 선택:</label>
                            <input type="date" id="historyDateFilter" class="date-input">
                            <button id="clearDateFilter" class="btn-clear-filter">초기화</button>
                        </div>
                        <div class="date-filter-item">
                            <label>기간 선택:</label>
                            <input type="date" id="historyStartDate" class="date-input">
                            <span>~</span>
                            <input type="date" id="historyEndDate" class="date-input">
                            <button id="applyDateRange" class="btn-apply-filter">적용</button>
                        </div>
                    </div>
                </div>

                <!-- 달력 뷰 -->
                <div class="calendar-view">
                    <div class="calendar-header">
                        <button id="prevMonth" class="btn-calendar-nav">◀</button>
                        <h3 id="currentMonthYear"></h3>
                        <button id="nextMonth" class="btn-calendar-nav">▶</button>
                    </div>
                    <div id="calendar" class="calendar-grid"></div>
                </div>

                <!-- 기록 목록 -->
                <div class="history-list-section">
                    <h4>기록 목록</h4>
                    <div id="historyManageList" class="history-manage-list">
                        <div class="loading-models">기록을 불러오는 중...</div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>LiteRT.js 기반 실시간 전사 애플리케이션</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/litert@latest/dist/litert.min.js"></script>
    <script>
        // 강력한 캐시 버스팅 - 타임스탬프 사용
        (function() {
            const timestamp = new Date().getTime();
            const script = document.createElement('script');
            script.src = `app.js?t=${timestamp}&v=3.0.0`;
            script.type = 'text/javascript';
            script.async = false;
            document.head.appendChild(script);
        })();
    </script>
</body>
</html>

